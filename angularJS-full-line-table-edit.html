
<!DOCTYPE html>
<html>

<div class="wrapper">

	<head>
		<link rel="shortcut icon" href="/assets/img/shiny-shuckle.ico" type="image/x-icon" />

		<!-- link to main stylesheet -->
		<link rel="stylesheet" type="text/css" href="/style/main.css">

		<link rel="stylesheet" href="/node_modules/angular-material/angular-material.css">

		<script src="/node_modules/angular/angular.js"></script> 
		<script src="/node_modules/angular-aria/angular-aria.js"></script> 
		<script src="/node_modules/angular-animate/angular-animate.js"></script> 
		<script src="/node_modules/angular-messages/angular-messages.js"></script> 
		<script src="/node_modules/angular-material/angular-material.js"></script> 



		<script src="http://vitalets.github.io/angular-xeditable/dist/js/xeditable.js"></script>
		<link rel="stylesheet" href="http://vitalets.github.io/angular-xeditable/dist/css/xeditable.css">
		<!-- <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular-sanitize.min.js"></script> -->
		<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<script src="https://code.angularjs.org/1.8.2/angular-mocks.js"></script>


	<script>
			(function() {
		//   'use strict';
		
			angular.module('myApp', ['ngMaterial', 'ngMessages']);
		
			angular.module('myApp').controller('myCtrl', myCtrl)
				
			function myCtrl($scope) {
				$scope.currentNavItem = window.location.pathname.split('/')[0];
			}
		
		})();
		</script>
	</head>


	<body ng-app="myApp">
		<style>
			div[ng-app] { margin: 10px; }
			form[name="editableForm"] > div {
				height: auto;
				padding: 5px 0;
			}
			
			form[name="editableForm"] .title {
				display: inline-block;
				font-weight: bold;
				padding-top: 5px;
				vertical-align: top;
				min-width: 90px;
			}
			
			form[name="editableForm"] .editable {
				display: inline-block;
				padding-top: 5px;
				vertical-align: top;
			}
			
			form[name="editableForm"] select {
				width: 120px;
			}
		</style>
		<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KPLTPHL"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

		<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
		rel="stylesheet">
<div ng-controller="Ctrl">
	<h4>Angular-XEditable - Multi-line Edit Template</h4>

	<div style="display:grid;">
		<div>
			Name
		</div>
		<div>
			Gender
		</div>
		<div>
			Edit
		</div>
	</div>


		<div ng-repeat="x in user" style="display:grid;" ng-form=>
			<form editable-form onaftersave="updateUser(x)" name="editableForm{{$index}}" style="display:grid">
				<div>			
					<span editable-text="x.name" e-name="name" onbeforesave="checkName($data)" e-required>
						{{ x.name || 'empty' }}
					</span>
				</div>
				<div>			
					<span editable-text="x.gender" e-name="gender" onbeforesave="checkName($data)" e-required>
						{{ x.gender || 'empty' }}
					</span>
				</div>
				<div>
					<!-- <i class="material-icons" editable-text="x">border_color</i> -->
					<button type="button" class="btn btn-default" ng-click="editableForm'$index.$show()" ng-show="!"+"{{editableForm$index}}"+".$visible">
						Edit
					</button>
					<span ng-show="inputForm-$index.$visible">
						<button type="submit" class="btn btn-primary" ng-disabled="inputForm-$index.$waiting">
							Save
						</button>
						<button type="button" class="btn btn-default" ng-disabled="inputForm-$index.$waiting" ng-click="inputForm-$index.$cancel()">
							Cancel
						</button>
					</span>
				</div>
			</form>
		</div>
	</table>
</div>

<!--
	 <form editable-form name="editableForm" onaftersave="saveUser()">
      <span class="title">User name: </span>
      <span editable-text="user.name" e-name="name" onbeforesave="checkName($data)" e-required>{{ user.name || 'empty' }}</span>
    </div> 

    <div>
      <span class="title">Status: </span>
      <span editable-select="user.status" e-name="status" e-ng-options="s.value as s.text for s in statuses">
        {{ (statuses | filter:{value: user.status})[0].text || 'Not set' }}
      </span>
    </div>  

    <div>
      <span class="title">Group: </span>
      <span editable-select="user.group" e-name="group" onshow="loadGroups()" e-ng-options="g.id as g.text for g in groups">
        {{ showGroup() }}
      </span>
    </div>

    <div>
      <button type="button" class="btn btn-default" ng-click="editableForm.$show()" ng-show="!editableForm.$visible">
        Edit
      </button>
      <span ng-show="editableForm.$visible">
        <button type="submit" class="btn btn-primary" ng-disabled="editableForm.$waiting">
          Save
        </button>
        <button type="button" class="btn btn-default" ng-disabled="editableForm.$waiting" ng-click="editableForm.$cancel()">
          Cancel
        </button>
      </span>
    </div>
  </form>  

-->

    

    
		</div>
			
			<script>
				var app = angular.module("myApp", ["xeditable", "ngMockE2E"]);

				app.run(function(editableOptions) {
					editableOptions.theme = 'bs3';
				});

				app.controller('Ctrl', function($scope, $q, $http) {
					$scope.user = [
					{
						id: 1,
						name: 'Marc Ochsner',
						gender: 'Male'
					}];
					// {
					// 	id: 2,
					// 	name: 'Ann-Marie Thompson',
					// 	gender: 'Female'
					// }];

					$scope.updateUser = function(currentUser) {
						return $http.post('/updateUser', currentUser);
					};
				});

				// mock `/updateUser` request
				app.run(function($httpBackend) {
					$httpBackend.whenPOST(/\/updateUser/).respond(function(method, url, data) {
						// alert("Updated record:",data);
						data = angular.fromJson(data);
						if(data.name === 'error') {
							return [500, 'Error message']; 
						} else {
							return [200, {status: 'ok'}]; 
						}
					});
				});
			</script>

<p>Happy coding!</p>

<p>~ Moxnr</p>

  </div>








	</body>
</div>

</html>
